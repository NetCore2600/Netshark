### NETSHARK 2600
```
â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•    â•šâ•â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•     â–ˆâ–ˆâ•‘   â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•    â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• 
```

## ğŸ“‹ Description

**Netshark 2600** est un analyseur de paquets rÃ©seau avancÃ© dÃ©veloppÃ© en C, inspirÃ© de Wireshark. Il permet la capture et l'analyse en temps rÃ©el du trafic rÃ©seau avec un support complet des protocoles TCP/IP, UDP, ARP, HTTP et FTP.

## ğŸš€ FonctionnalitÃ©s

### ğŸ” **Capture de Paquets**
- Capture en temps rÃ©el sur n'importe quelle interface rÃ©seau
- Mode promiscuitÃ© pour capturer tout le trafic
- Filtrage BPF (Berkeley Packet Filter) intÃ©grÃ©
- Support des interfaces Ethernet et NULL

### ğŸ“Š **Analyse de Protocoles**
- **TCP** : Analyse complÃ¨te des en-tÃªtes, flags, ports, sÃ©quences
- **UDP** : Analyse des datagrammes et ports
- **ARP** : RÃ©solution d'adresses et analyse des requÃªtes/rÃ©ponses
- **HTTP** : Analyse des requÃªtes et rÃ©ponses HTTP (GET, POST, etc.)
- **FTP** : Analyse des commandes et rÃ©ponses FTP

### ğŸ› ï¸ **FonctionnalitÃ©s AvancÃ©es**
- Architecture modulaire avec handlers spÃ©cialisÃ©s
- Parsers dÃ©diÃ©s pour chaque protocole
- Affichage dÃ©taillÃ© des en-tÃªtes de paquets
- Horodatage prÃ©cis des Ã©vÃ©nements
- Gestion d'erreurs robuste

## ğŸ—ï¸ Architecture

### Structure du Projet
```
netshark/
â”œâ”€â”€ src/                    # Code source principal
â”‚   â”œâ”€â”€ main.c             # Point d'entrÃ©e et parsing d'arguments
â”‚   â”œâ”€â”€ init.c             # Initialisation et configuration
â”‚   â”œâ”€â”€ handlers/          # Gestionnaires de protocoles
â”‚   â”‚   â”œâ”€â”€ tcp_handler.c  # Analyse TCP
â”‚   â”‚   â”œâ”€â”€ udp_handler.c  # Analyse UDP
â”‚   â”‚   â”œâ”€â”€ arp_handler.c  # Analyse ARP
â”‚   â”‚   â”œâ”€â”€ http_handler.c # Analyse HTTP
â”‚   â”‚   â””â”€â”€ ftp_handler.c  # Analyse FTP
â”‚   â””â”€â”€ parsers/           # Parsers spÃ©cialisÃ©s
â”‚       â”œâ”€â”€ tcp_parser.c   # Parser TCP
â”‚       â”œâ”€â”€ udp_parser.c   # Parser UDP
â”‚       â”œâ”€â”€ arp_parser.c   # Parser ARP
â”‚       â”œâ”€â”€ http_parser.c  # Parser HTTP
â”‚       â””â”€â”€ ftp_parser.c   # Parser FTP
â”œâ”€â”€ include/               # Fichiers d'en-tÃªte
â”‚   â”œâ”€â”€ netshark.h        # Interface principale
â”‚   â”œâ”€â”€ handler.h         # Interface des handlers
â”‚   â””â”€â”€ parser.h          # Interface des parsers
â”œâ”€â”€ build/                # Fichiers compilÃ©s
â”œâ”€â”€ img/                  # Images et ressources
â””â”€â”€ Makefile             # Configuration de compilation
```

### Composants Principaux

#### ğŸ”§ **Initialisation (`init.c`)**
- DÃ©couverte automatique des interfaces rÃ©seau
- Configuration du handle libpcap
- Compilation et application des filtres BPF
- SÃ©lection du handler appropriÃ© selon le protocole

#### ğŸ“¦ **Handlers de Protocoles**
Chaque protocole dispose d'un handler spÃ©cialisÃ© :
- **TCP Handler** : Analyse des segments TCP, flags, ports, sÃ©quences
- **UDP Handler** : Analyse des datagrammes UDP
- **ARP Handler** : Analyse des requÃªtes/rÃ©ponses ARP
- **HTTP Handler** : Analyse des requÃªtes HTTP (GET, POST, etc.)
- **FTP Handler** : Analyse des commandes FTP

#### ğŸ” **Parsers SpÃ©cialisÃ©s**
Parsers dÃ©diÃ©s pour l'extraction et l'analyse des donnÃ©es de chaque protocole.

## ğŸ“¦ Installation

### PrÃ©requis
- **SystÃ¨me** : Linux (testÃ© sur Debian/Ubuntu, CentOS/RHEL)
- **Compilateur** : GCC avec support C99
- **BibliothÃ¨ques** : libpcap-dev

### Installation des DÃ©pendances

#### Debian/Ubuntu
```bash
sudo apt-get update
sudo apt-get install libpcap-dev build-essential
```

#### CentOS/RHEL
```bash
sudo yum install libpcap-devel gcc make
```

### Compilation

1. **Cloner le Repository**
   ```bash
   git clone https://github.com/NetCore2600/Netshark.git
   cd Netshark
   ```

2. **Compiler le Projet**
   ```bash
   make
   ```

3. **VÃ©rifier l'Installation**
   ```bash
   ./netshark --help
   ```

## ğŸ¯ Utilisation

### Syntaxe de Base
```bash
sudo ./netshark -i <interface> -f <filtre>
```

### Exemples d'Utilisation

#### Capture TCP
```bash
sudo ./netshark -i eth0 -f tcp
```

#### Capture HTTP
```bash
sudo ./netshark -i eth0 -f http
```

#### Capture FTP
```bash
sudo ./netshark -i eth0 -f ftp
```

#### Capture UDP
```bash
sudo ./netshark -i eth0 -f udp
```

#### Capture ARP
```bash
sudo ./netshark -i eth0 -f arp
```

### Filtres SupportÃ©s
- `tcp` : Capture uniquement le trafic TCP
- `udp` : Capture uniquement le trafic UDP
- `http` : Capture le trafic HTTP (ports 80/8080)
- `ftp` : Capture le trafic FTP (port 21)
- `arp` : Capture les paquets ARP

## ğŸ”§ Configuration

### Permissions
Le programme nÃ©cessite des privilÃ¨ges root pour capturer les paquets rÃ©seau :
```bash
sudo ./netshark -i eth0 -f tcp
```

### Interfaces Disponibles
Pour lister les interfaces disponibles :
```bash
ip link show
```

## ğŸ“Š Sortie d'Exemple

### Analyse TCP
```
=== TCP Packet Analysis ===
Source IP: 192.168.1.100
Destination IP: 8.8.8.8
Source Port: 54321
Destination Port: 80
Sequence Number: 1234567890
Acknowledgment Number: 987654321
Window Size: 65535
TCP Flags: SYN
Header Length: 20 bytes
Data Length: 0 bytes
Total Packet Length: 60 bytes
==========================
```

### Analyse HTTP
```
[14:30:25] HTTP 192.168.1.100:54321 -> 8.8.8.8:80
=== HTTP Request ===
Method: GET
Path: /api/data
Version: HTTP/1.1

Headers:
Host: api.example.com
User-Agent: Mozilla/5.0
Accept: application/json
==========================
```

## ğŸ› ï¸ DÃ©veloppement

### Structure du Code

#### Point d'EntrÃ©e (`main.c`)
- Parsing des arguments en ligne de commande
- Initialisation de l'application
- Boucle principale de capture

#### Initialisation (`init.c`)
- DÃ©couverte des interfaces rÃ©seau
- Configuration du handle libpcap
- Compilation des filtres BPF
- SÃ©lection des handlers

#### Handlers (`handlers/`)
Chaque handler implÃ©mente la signature :
```c
void protocol_handler(unsigned char *args, 
                     const struct pcap_pkthdr *header, 
                     const unsigned char *packet);
```

### Compilation
```bash
make clean    # Nettoyer les fichiers compilÃ©s
make          # Compiler le projet
make install  # Installer (si configurÃ©)
```

## ğŸ” DÃ©pannage

### Erreurs Communes

#### Interface Non TrouvÃ©e
```bash
Error: Interface eth0 not found
```
**Solution** : VÃ©rifier le nom de l'interface avec `ip link show`

#### Permissions Insuffisantes
```bash
Error: Couldn't open device eth0: Permission denied
```
**Solution** : ExÃ©cuter avec `sudo`

#### BibliothÃ¨que Manquante
```bash
Error: libpcap not found
```
**Solution** : Installer `libpcap-dev`

## ğŸ¤ Contribution

### Ã‰quipe de DÃ©veloppement
- **Jonathan Tondelier** - Architecture et dÃ©veloppement
- **Elie Marouani** - Analyse de protocoles
- **Jeremy Dufresne** - Handlers et parsers
- **Loris Danel** - Interface et tests

### Guidelines
1. Respecter les conventions de nommage
2. Ajouter des commentaires pour les fonctions complexes
3. Tester sur diffÃ©rentes distributions Linux
4. Documenter les nouvelles fonctionnalitÃ©s

## ğŸ“„ Licence

Ce projet est dÃ©veloppÃ© dans le cadre du cours de rÃ©seaux informatiques.

## ğŸ”— Liens Utiles

- **libpcap** : https://www.tcpdump.org/
- **BPF** : https://www.tcpdump.org/manpages/pcap-filter.7.html
- **Wireshark** : https://www.wireshark.org/

---

**Netshark 2600** - Analyseur de paquets rÃ©seau avancÃ© pour l'analyse et le dÃ©bogage du trafic rÃ©seau. 